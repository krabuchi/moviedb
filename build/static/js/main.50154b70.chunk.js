(this.webpackJsonptmdb=this.webpackJsonptmdb||[]).push([[0],{21:function(e,t,a){e.exports={container:"movieDetail_container__2ZxW7",imgContainer:"movieDetail_imgContainer__gAaYR",details:"movieDetail_details__1Yy_b",genre:"movieDetail_genre__3yzix"}},24:function(e,t,a){e.exports={ul:"movieList_ul__2Ev--",li:"movieList_li__1cZbI",title:"movieList_title__30Ner"}},47:function(e,t,a){e.exports=a.p+"static/media/imdb.09df7b22.png"},51:function(e,t,a){e.exports=a(82)},56:function(e,t,a){},57:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(18),c=a.n(i),o=(a(56),a(13)),l=a(16),s=a(5),u=(a(57),a(85)),m=a(86),d=a(45),p=a(88),v=function(e){var t=e.query,a=e.setQuery,n=e.doFetch,i=Object(s.f)();return r.a.createElement(u.a,{bg:"dark",variant:"dark",expand:"lg"},r.a.createElement(u.a.Brand,{href:"/"},"TheMovieDB"),r.a.createElement(m.a,{inline:!0,onSubmit:function(e){e.preventDefault(),""!==t&&(n("https://moviedb-backend.herokuapp.com/api/movies/search?q=".concat(t)),i.push("/"))},style:f},r.a.createElement(d.a,{type:"text",placeholder:"Search",className:"mr-sm-2",value:t,onChange:function(e){return a(e.target.value)}}),r.a.createElement(p.a,{variant:"outline-success",type:"submit"},"Search")))},f={width:"100%",margin:"10px",display:"flex",justifyContent:"center"},E=a(24),g=a.n(E),h=a(87),b=a(84),w=function(e){var t=e.data.map((function(e){return r.a.createElement(l.b,{key:e.id,to:"movie/".concat(e.id),style:{textDecoration:"none",color:"#111"}},r.a.createElement("li",{className:g.a.li},r.a.createElement(h.a,{style:{width:"15rem",margin:"1rem"}},r.a.createElement(h.a.Img,{variant:"top",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:e.title}),r.a.createElement(h.a.Body,null,r.a.createElement(h.a.Title,null,r.a.createElement("span",{className:g.a.title},e.title))))))}));return r.a.createElement("ul",{className:g.a.ul},r.a.createElement(b.a,null,t))},_=a(46),y=a(19),j=a.n(y),k=a(22),O=a(23),C=a.n(O),S=a(15),x=function(e,t){switch(t.type){case"FETCH_INIT":return Object(S.a)(Object(S.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return Object(S.a)(Object(S.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}},L=a(21),T=a.n(L),F=a(47),N=a.n(F);var I=function(e){Object(_.a)(e);var t=Object(s.g)().id,a=function(e,t){var a=Object(n.useState)(e),r=Object(o.a)(a,2),i=r[0],c=r[1],l=Object(n.useReducer)(x,{isLoading:!1,isError:!1,data:t}),s=Object(o.a)(l,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(k.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m({type:"FETCH_INIT"}),t.prev=1,t.next=4,C()(i);case 4:a=t.sent,e||m({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||m({type:"FETCH_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[i]),[u,c]}("https://moviedb-backend.herokuapp.com/api/movies/".concat(t),{}),i=Object(o.a)(a,2),c=i[0],l=c.data,u=c.isLoading,m=c.isError;return i[1],console.log(l),r.a.createElement(r.a.Fragment,null,m&&r.a.createElement("div",null,"Something went wrong!!"),u?r.a.createElement("div",null,"Loading...."):r.a.createElement("div",{className:T.a.container},r.a.createElement("div",{className:T.a.imgContainer},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500".concat(l.poster_path),alt:l.title})),r.a.createElement("div",{className:T.a.details},r.a.createElement("h1",null,l.title),r.a.createElement("p",null,l.overview),r.a.createElement("p",null,r.a.createElement("span",null,"Release Date: "),l.release_date),r.a.createElement("p",null,r.a.createElement("span",null,"Rating: "),l.vote_average),r.a.createElement("p",null,r.a.createElement("a",{href:"https://www.imdb.com/title/".concat(l.imdb_id),target:"_blank"},r.a.createElement("img",{src:N.a,alt:"imdb-link",height:"60"}))),l.genres&&l.genres.map((function(e){return r.a.createElement("span",{className:T.a.genre,key:e.id},e.name)})))))},R=function(e,t){var a=Object(n.useReducer)(x,{isLoading:!1,isError:!1,data:t}),r=Object(o.a)(a,2),i=r[0],c=r[1],l=Object(n.useState)(e),s=Object(o.a)(l,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){var e=!1;return function(){var t=Object(k.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c({type:"FETCH_INIT"}),t.prev=1,t.next=4,C.a.get(u);case 4:a=t.sent,e||c({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||c({type:"FETCH_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[u]),[i,m]},A=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],i=t[1],c=R("https://moviedb-backend.herokuapp.com/api/movies",[]),u=Object(o.a)(c,2),m=u[0],d=m.data,p=m.isLoading,f=m.isError,E=u[1];return r.a.createElement(l.a,null,r.a.createElement(v,{doFetch:E,query:a,setQuery:i}),f&&r.a.createElement("div",null,"Something went wrong!!"),p?r.a.createElement("div",null,"Loading...."):r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",render:function(){return r.a.createElement(w,{data:d})}}),r.a.createElement(s.a,{exact:!0,path:"/movie/:id",component:I})))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/moviedb",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/moviedb","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):U(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):U(t,e)}))}}()}},[[51,1,2]]]);
//# sourceMappingURL=main.50154b70.chunk.js.map